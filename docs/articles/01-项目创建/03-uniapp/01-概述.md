# uniapp åŸºç¡€

## uni-app å’ŒåŸç”Ÿå°ç¨‹åºå¼€å‘åŒºåˆ«

### å¼€å‘åŒºåˆ«

uni-app é¡¹ç›®æ¯ä¸ªé¡µé¢æ˜¯ä¸€ä¸ª `.vue` æ–‡ä»¶ï¼Œæ•°æ®ç»‘å®šåŠäº‹ä»¶å¤„ç†åŒ `Vue.js` è§„èŒƒï¼š

1. å±æ€§ç»‘å®š `src="{ { url }}"` å‡çº§æˆ `:src="url"`

2. äº‹ä»¶ç»‘å®š `bindtap="eventName"` å‡çº§æˆ `@tap="eventName"`ï¼Œ**æ”¯æŒï¼ˆï¼‰ä¼ å‚**

3. æ”¯æŒ Vue å¸¸ç”¨**æŒ‡ä»¤** `v-for`ã€`v-if`ã€`v-show`ã€`v-model` ç­‰

### å…¶ä»–åŒºåˆ«è¡¥å……

1. è°ƒç”¨æ¥å£èƒ½åŠ›ï¼Œ**å»ºè®®å‰ç¼€** `wx` æ›¿æ¢ä¸º `uni` ï¼Œå…»æˆå¥½ä¹ æƒ¯ï¼Œ**æ”¯æŒå¤šç«¯å¼€å‘**ã€‚
2. `<style>` é¡µé¢æ ·å¼ä¸éœ€è¦å†™ `scoped`ï¼Œå°ç¨‹åºæ˜¯å¤šé¡µé¢åº”ç”¨ï¼Œ**é¡µé¢æ ·å¼è‡ªåŠ¨éš”ç¦»**ã€‚
3. **ç”Ÿå‘½å‘¨æœŸåˆ†ä¸‰éƒ¨åˆ†**ï¼šåº”ç”¨ç”Ÿå‘½å‘¨æœŸ(å°ç¨‹åº)ï¼Œé¡µé¢ç”Ÿå‘½å‘¨æœŸ(å°ç¨‹åº)ï¼Œç»„ä»¶ç”Ÿå‘½å‘¨æœŸ(Vue)



## åˆ›å»º uni-app é¡¹ç›®æ–¹å¼

**uni-app æ”¯æŒä¸¤ç§æ–¹å¼åˆ›å»ºé¡¹ç›®ï¼š**

1. é€šè¿‡ HBuilderX åˆ›å»ºï¼ˆéœ€å®‰è£… HBuilderX ç¼–è¾‘å™¨ï¼‰

2. é€šè¿‡å‘½ä»¤è¡Œåˆ›å»ºï¼ˆéœ€å®‰è£… NodeJS ç¯å¢ƒï¼‰

### HBuilderX åˆ›å»º uni-app é¡¹ç›®

**1.ä¸‹è½½å®‰è£… HbuilderX ç¼–è¾‘å™¨**

![ä¸‹è½½å®‰è£… HbuilderX ç¼–è¾‘å™¨](../../../public/image-uniapp_picture_1.png)

**2.é€šè¿‡ HbuilderX åˆ›å»º uni-app vue3 é¡¹ç›®**

![é€šè¿‡ HbuilderX åˆ›å»º uni-app vue3 é¡¹ç›®](../../../public/image-uniapp_picture_2.png)

**3.å®‰è£… uni-app vue3 ç¼–è¯‘å™¨æ’ä»¶**

![å®‰è£… uni-app vue3 ç¼–è¯‘å™¨æ’ä»¶](../../../public/image-uniapp_picture_3.png)

**4.ç¼–è¯‘æˆå¾®ä¿¡å°ç¨‹åºç«¯ä»£ç **

![ç¼–è¯‘æˆå¾®ä¿¡å°ç¨‹åºç«¯ä»£ç ](../../../public/image-uniapp_picture_4.png)

**5.å¼€å¯æœåŠ¡ç«¯å£**

![å¼€å¯æœåŠ¡ç«¯å£](../../../public/image-uniapp_picture_5.png)

**å°æŠ€å·§åˆ†äº«ï¼šæ¨¡æ‹Ÿå™¨çª—å£åˆ†ç¦»å’Œç½®é¡¶**

![æ¨¡æ‹Ÿå™¨çª—å£åˆ†ç¦»å’Œç½®é¡¶](../../../public/image-uniapp_picture_6.png)

**HBuildeX å’Œ å¾®ä¿¡å¼€å‘è€…å·¥å…· å…³ç³»**

![HBuildeX å’Œ å¾®ä¿¡å¼€å‘è€…å·¥å…· å…³ç³»](../../../public/image-uniapp_picture_7.png)

::: tip æ¸©é¦¨æç¤º
[HBuildeX](https://www.dcloud.io/hbuilderx.html) å’Œ [uni-app](https://uniapp.dcloud.net.cn/) éƒ½å±äº [DCloud](https://dcloud.io) å…¬å¸çš„äº§å“ã€‚
:::

### å‘½ä»¤è¡Œåˆ›å»º uni-app é¡¹ç›®

**ä¼˜åŠ¿**

é€šè¿‡å‘½ä»¤è¡Œåˆ›å»º uni-app é¡¹ç›®ï¼Œ**ä¸å¿…ä¾èµ– HBuilderX**ï¼ŒTypeScript ç±»å‹æ”¯æŒå‹å¥½ã€‚

**å‘½ä»¤è¡Œåˆ›å»º** **uni-app** **é¡¹ç›®ï¼š**

vue3 + ts ç‰ˆ

::: code-group

```sh [github]
# é€šè¿‡ npx ä» github ä¸‹è½½
npx degit dcloudio/uni-preset-vue#vite-ts é¡¹ç›®åç§°
```

```sh [ğŸ‘‰å›½å†… gitee]
# é€šè¿‡ git ä» gitee å…‹éš†ä¸‹è½½ (ğŸ‘‰å¤‡ç”¨åœ°å€)
git clone -b vite-ts https://gitee.com/dcloud/uni-preset-vue.git
```

```
npx degit dcloudio/uni-preset-vue#vite-ts #é¡¹ç›®åç§°
```

:::

åˆ›å»ºå…¶ä»–ç‰ˆæœ¬å¯æŸ¥çœ‹ï¼š[uni-app å®˜ç½‘](https://uniapp.dcloud.net.cn/quickstart-cli.html)

::: danger å¸¸è§é—®é¢˜

- è¿è¡Œ `npx` å‘½ä»¤ä¸‹è½½å¤±è´¥ï¼Œè¯·å°è¯•æ¢æˆ**æ‰‹æœºçƒ­ç‚¹é‡è¯•**
- æ¢æ‰‹æœºçƒ­ç‚¹ä¾æ—§å¤±è´¥ï¼Œè¯·å°è¯•ä»[å›½å†…å¤‡ç”¨åœ°å€ä¸‹è½½](https://gitee.com/dcloud/uni-preset-vue/tree/vite-ts/)
- åœ¨ `manifest.json` æ–‡ä»¶æ·»åŠ  [å°ç¨‹åº AppID](https://mp.weixin.qq.com/) ç”¨äºçœŸæœºé¢„è§ˆ
- è¿è¡Œ `npx` å‘½ä»¤éœ€ä¾èµ– NodeJS ç¯å¢ƒï¼Œ[NodeJS ä¸‹è½½åœ°å€](https://nodejs.org/zh-cn)
- è¿è¡Œ `git` å‘½ä»¤éœ€ä¾èµ– Git ç¯å¢ƒï¼Œ[Git ä¸‹è½½åœ°å€](https://git-scm.com/download/)

:::

::: details ä¸ºä»€ä¹ˆæ‰§è¡Œé¡¹ç›®åˆå§‹åŒ–ä¹‹åï¼Œå®‰è£…çš„ä¾èµ–ä¸æ˜¯æœ€æ–°çš„ï¼Ÿ

è¿™æ˜¯ **æ­£å¸¸ç°è±¡**ï¼ŒåŸå› ä¸»è¦æœ‰ä»¥ä¸‹å‡ ç‚¹ï¼š

------

âœ… **1. æ¨¡æ¿ä¾èµ–æ˜¯å›ºå®šç‰ˆæœ¬**

`npx degit dcloudio/uni-preset-vue#vite-ts` åªæ˜¯æŠŠ **GitHub ä»“åº“ä¸Šçš„æ¨¡æ¿ä»£ç ** ä¸‹è½½åˆ°æœ¬åœ°ï¼Œå®ƒä¸ä¼šè‡ªåŠ¨æ›´æ–°æ¨¡æ¿é‡Œçš„ `package.json` åˆ°æœ€æ–°ç‰ˆæœ¬ã€‚

æ¨¡æ¿ä½œè€…ï¼ˆDCloudï¼‰ä¸ºäº†ä¿è¯**å…¼å®¹æ€§å’Œç¨³å®šæ€§**ï¼Œé€šå¸¸ä¼šï¼š

- åœ¨ `package.json` ä¸­å†™æ­»ç‰¹å®šç‰ˆæœ¬æˆ–ä½¿ç”¨ **å›ºå®šèŒƒå›´ï¼ˆ^ æˆ– ~ï¼‰**ã€‚
- é¿å…å› ä¸ºä¾èµ–å‡çº§å¯¼è‡´æ„å»ºå¤±è´¥ã€‚

------

âœ… **2. degit ä¸ä¼šå®‰è£…ä¾èµ–ï¼Œä¹Ÿä¸ä¼šæ£€æŸ¥æœ€æ–°ç‰ˆæœ¬**

`degit` çš„ä½œç”¨ï¼š

- **å¤åˆ¶ Git ä»“åº“æŸä¸ªåˆ†æ”¯/æ ‡ç­¾çš„æ–‡ä»¶**ã€‚
- å®ƒä¸ä¼šè¿è¡Œ `npm update`ï¼Œä¹Ÿä¸ä¼šè”ç³» npm registry è·å–æœ€æ–°ç‰ˆæœ¬ã€‚

å®‰è£…ä¾èµ–æ—¶ï¼ˆ`npm install` æˆ– `pnpm install`ï¼‰ï¼Œä¼šæ ¹æ® `package.json` å’Œ `package-lock.json` å®‰è£…ã€‚

- å¦‚æœæ¨¡æ¿å¸¦äº† `package-lock.json`ï¼Œé”å®šäº†ç‰ˆæœ¬ã€‚
- å¦‚æœæ¨¡æ¿æ²¡æœ‰ lock æ–‡ä»¶ï¼Œä½† `package.json` é‡ŒæŒ‡å®šäº†è€ç‰ˆæœ¬ï¼Œä»ä¼šå®‰è£…è€ç‰ˆæœ¬ã€‚

------

âœ… **3. uni-app å®˜æ–¹æ¨¡æ¿æ›´æ–°é¢‘ç‡**

DCloud çš„ uni-app å®˜æ–¹æ¨¡æ¿æ›´æ–°èŠ‚å¥ç›¸å¯¹æ…¢ï¼Œ**å¯èƒ½æ¨¡æ¿é‡Œä¾èµ–ç‰ˆæœ¬å·²ç»è½åäºæœ€æ–°çš„ Vite / Vue / TypeScript ç‰ˆæœ¬**ï¼Œå› ä¸ºï¼š

- uni-app éœ€è¦å…¼å®¹ Appã€å°ç¨‹åºç­‰å¹³å°ã€‚
- æ–°ç‰ˆ Vite æˆ– TS å¯èƒ½å¼•å…¥ breaking changesã€‚

------

âœ… **å¦‚ä½•è®©ä¾èµ–æ›´æ–°åˆ°æœ€æ–°ç‰ˆæœ¬ï¼Ÿ**

æœ‰å‡ ç§æ–¹æ³•ï¼š

------

**âœ” æ–¹æ³• 1ï¼šç”¨ `npm-check-updates` æ›´æ–°ä¾èµ–**

å®‰è£… `npm-check-updates`ï¼ˆç®€ç§° ncuï¼‰ï¼š

```
npm install -g npm-check-updates
```

ç„¶ååœ¨é¡¹ç›®ç›®å½•è¿è¡Œï¼š

```
ncu -u
```

è¿™ä¼šæ›´æ–° `package.json` ä¸­çš„ä¾èµ–åˆ°æœ€æ–°ç‰ˆæœ¬ã€‚

å†é‡æ–°å®‰è£…ï¼š

```
npm install
```

------

**âœ” æ–¹æ³• 2ï¼šæ‰‹åŠ¨ä¿®æ”¹ `package.json`**

- æŠŠä¸»è¦ä¾èµ–ï¼ˆ`vue`ã€`vite`ã€`typescript` ç­‰ï¼‰æ”¹æˆ `"latest"` æˆ– `^æœ€æ–°ç‰ˆæœ¬å·`ã€‚
- ç„¶åé‡æ–°æ‰§è¡Œ `npm install`ã€‚

------

**âœ” æ–¹æ³• 3ï¼šä½¿ç”¨ `pnpm` å¹¶æŒ‡å®šæœ€æ–°ä¾èµ–**

å¦‚æœä½ ç”¨ `pnpm`ï¼Œå¯ä»¥ç›´æ¥ï¼š

```
pnpm up --latest
```

ä¼šç›´æ¥æ›´æ–°åˆ°æœ€æ–°ç‰ˆæœ¬ã€‚

------

âœ… **æ³¨æ„**

**æ›´æ–°åˆ°æœ€æ–°ä¾èµ–å¯èƒ½ä¼šå¯¼è‡´ uni-app ç›¸å…³æ’ä»¶ä¸å…¼å®¹**ï¼Œå°¤å…¶æ˜¯ï¼š

- `@dcloudio/uni-app`
- `@dcloudio/vite-plugin-uni`
- `vite`ã€`rollup` æ’ä»¶

æ‰€ä»¥ï¼š

- **å…ˆæ›´æ–°é uni-app æ ¸å¿ƒä¾èµ–**ï¼ˆæ¯”å¦‚ ESLintã€TypeScriptï¼‰ã€‚
- æ ¸å¿ƒä¾èµ–å»ºè®®è·Ÿ uni-app å®˜æ–¹æ¨èç‰ˆæœ¬èµ°ã€‚

:::

ä½¿ç”¨å‘½ä»¤è¡Œç¼–è¯‘å’Œè¿è¡Œ uni-app é¡¹ç›®

1. å®‰è£…ä¾èµ– `pnpm install`
2. ç¼–è¯‘æˆå¾®ä¿¡å°ç¨‹åº `pnpm dev:mp-weixin`
3. å¯¼å…¥å¾®ä¿¡å¼€å‘è€…å·¥å…·

::: tip æ¸©é¦¨æç¤º
ç¼–è¯‘æˆ H5 ç«¯å¯è¿è¡Œ `pnpm dev:h5` é€šè¿‡æµè§ˆå™¨é¢„è§ˆé¡¹ç›®ã€‚
:::

## ç”¨ VS Code å¼€å‘ uni-app é¡¹ç›®

### ä¸ºä»€ä¹ˆé€‰æ‹© VS Codeï¼Ÿ

- VS Code å¯¹ **TS ç±»å‹æ”¯æŒå‹å¥½**ï¼Œå‰ç«¯å¼€å‘è€…**ä¸»æµçš„ç¼–è¾‘å™¨**
- HbuilderX å¯¹ TS ç±»å‹æ”¯æŒæš‚ä¸å®Œå–„ï¼ŒæœŸå¾…å®˜æ–¹å®Œå–„ ğŸ‘€

### ä½¿ç”¨ VS Code å¼€å‘é…ç½®

- ğŸ‘‰ å‰ç½®å·¥ä½œï¼šå®‰è£… Vue3 æ’ä»¶ï¼Œ[ç‚¹å‡»æŸ¥çœ‹å®˜æ–¹æ–‡æ¡£](https://cn.vuejs.org/guide/typescript/overview.html#ide-support)
  - å®‰è£… **Vue Language Features (Volar)** ï¼šVue3 è¯­æ³•æç¤ºæ’ä»¶
  - å®‰è£… **TypeScript Vue Plugin (Volar)** ï¼šVue3+TS æ’ä»¶
  - **å·¥ä½œåŒºç¦ç”¨** Vue2 çš„ Vetur æ’ä»¶(Vue3 æ’ä»¶å’Œ Vue2 å†²çª)
  - **å·¥ä½œåŒºç¦ç”¨** @builtin typescript æ’ä»¶ï¼ˆç¦ç”¨åå¼€å¯ Vue3 çš„ TS æ‰˜ç®¡æ¨¡å¼ï¼‰
- ğŸ‘‰ å®‰è£… uni-app å¼€å‘æ’ä»¶
  - **uni-create-view** ï¼šå¿«é€Ÿåˆ›å»º uni-app é¡µé¢
  - **uni-helper uni-app** ï¼šä»£ç æç¤º
  - **uniapp å°ç¨‹åºæ‰©å±•** ï¼šé¼ æ ‡æ‚¬åœæŸ¥æ–‡æ¡£
- ğŸ‘‰ TS ç±»å‹æ ¡éªŒ
  - å®‰è£… **ç±»å‹å£°æ˜æ–‡ä»¶** `pnpm i -D miniprogram-api-typings @uni-helper/uni-app-types`
  - é…ç½® `tsconfig.json`
- ğŸ‘‰ JSON æ³¨é‡Šé—®é¢˜
  - è®¾ç½®æ–‡ä»¶å…³è”ï¼ŒæŠŠ `manifest.json` å’Œ `pages.json` è®¾ç½®ä¸º `jsonc`

`tsconfig.json` å‚è€ƒ

```json {11,12,14-15,18-22}
// tsconfig.json
{
  "extends": "@vue/tsconfig/tsconfig.json",
  "compilerOptions": {
    "sourceMap": true,
    "baseUrl": ".",
    "paths": {
      "@/*": ["./src/*"]
    },
    "lib": ["esnext", "dom"],
    // ç±»å‹å£°æ˜æ–‡ä»¶
    "types": [
      "@dcloudio/types", // uni-app API ç±»å‹
      "miniprogram-api-typings", // åŸç”Ÿå¾®ä¿¡å°ç¨‹åºç±»å‹
      "@uni-helper/uni-app-types" // uni-app ç»„ä»¶ç±»å‹
    ]
  },
  // vue ç¼–è¯‘å™¨ç±»å‹ï¼Œæ ¡éªŒæ ‡ç­¾ç±»å‹
  "vueCompilerOptions": {
    // åŸé…ç½® `experimentalRuntimeMode` ç°è°ƒæ•´ä¸º `nativeTags`
    "nativeTags": ["block", "component", "template", "slot"], // [!code ++]
    "experimentalRuntimeMode": "runtime-uni-app" // [!code --]
  },
  "include": ["src/**/*.ts", "src/**/*.d.ts", "src/**/*.tsx", "src/**/*.vue"]
}
```

**å·¥ä½œåŒºè®¾ç½®å‚è€ƒ**

```json
// .vscode/settings.json
{
  // åœ¨ä¿å­˜æ—¶æ ¼å¼åŒ–æ–‡ä»¶
  "editor.formatOnSave": true,
  // æ–‡ä»¶æ ¼å¼åŒ–é…ç½®
  "[json]": {
    "editor.defaultFormatter": "esbenp.prettier-vscode"
  },
  // é…ç½®è¯­è¨€çš„æ–‡ä»¶å…³è”
  "files.associations": {
    "pages.json": "jsonc", // pages.json å¯ä»¥å†™æ³¨é‡Š
    "manifest.json": "jsonc" // manifest.json å¯ä»¥å†™æ³¨é‡Š
  }
}
```

::: danger ç‰ˆæœ¬å‡çº§

- åŸä¾èµ– `@types/wechat-miniprogram` ç°è°ƒæ•´ä¸º [miniprogram-api-typings](https://github.com/wechat-miniprogram/api-typings)ã€‚
- åŸé…ç½® `experimentalRuntimeMode` ç°è°ƒæ•´ä¸º `nativeTags`ã€‚

:::

### é’ˆå¯¹å¾®ä¿¡å¼€å‘è€…å¹³å°çš„é…ç½®







## ä»£ç é£æ ¼

å®‰è£…æ’ä»¶ï¼š

```
pnpm i -D eslint prettier eslint-plugin-vue @vue/eslint-config-prettier @vue/eslint-config-typescript @vue/tsconfig 
```

æ‰§è¡Œeslintåˆå§‹åŒ–ï¼š

```
pnpm init @eslint/config
```

å®ƒå…¶å®å°±æ˜¯è°ƒç”¨ **`@eslint/create-config`** è¿™ä¸ªå®˜æ–¹å·¥å…·ã€‚

æ‰§è¡Œæµç¨‹

::: details ç‚¹å‡»æŸ¥çœ‹è¯¦æƒ…

1. **äº¤äº’å¼æé—®**ï¼›
2. æ ¹æ®ç­”æ¡ˆç”Ÿæˆä¸€ä¸ª **é…ç½®æ–‡ä»¶**ï¼ˆ`.eslintrc.ts` / `.eslintrc.js` / `.eslintrc.json`ï¼‰ï¼›
3. æ ¹æ®éœ€è¦ **è‡ªåŠ¨å®‰è£…ç›¸å…³ä¾èµ–**ï¼ˆä¾‹å¦‚ `eslint`ã€`eslint-plugin-vue`ã€`@vue/eslint-config-prettier` ç­‰ï¼‰ï¼›
   - ç”¨çš„æ˜¯ `pnpm add -D`ï¼Œå› ä¸ºè¿™äº›ä¾èµ–éƒ½æ˜¯å¼€å‘ä¾èµ–ã€‚
   - å¦‚æœä½ é€‰äº† Jitiï¼Œä¹Ÿä¼šä¸€å¹¶å®‰è£…ã€‚

æ€»ç»“ä¸€ä¸‹ **`@eslint/create-config v1.10.0`** çš„åˆå§‹åŒ–æµç¨‹å’Œé€‰é¡¹ï¼š

1. **What do you want to lint?**
    â†’ `javascript, json, jsonc, json5, md, css` âœ…
2. **How would you like to use ESLint?**
    â†’ `problems` ï¼ˆæ£€æŸ¥è¯­æ³•å’Œå¸¸è§é—®é¢˜ï¼Œä¸åšé£æ ¼çº¦æŸï¼‰
3. **What type of modules does your project use?**
    â†’ `esm` ï¼ˆES Moduleï¼‰
4. **Which framework does your project use?**
    â†’ `vue` ï¼ˆuni-app åŸºäº Vueï¼‰
5. **Does your project use TypeScript?**
    â†’ `Yes`
6. **Where does your code run?**
    â†’ `browser, node`
7. **Which language do you want your configuration file be written in?**
    â†’ `ts`
8. **What flavor of Markdown do you want to lint?**
    â†’ `commonmark`
9. **Jiti is required for Node.js <24.3.0... Would you like to add Jiti as a devDependency?**
    â†’ å»ºè®®ç°åœ¨ Node18 â†’ é€‰ `Yes` âœ…

è¿™ä¸€æ­¥å¤„ç†å¾ˆå…³é”®ï¼Œå¦åˆ™ TS é¡¹ç›®æ— æ³•æ ¡éªŒç»„ä»¶å±æ€§ç±»å‹ã€‚

:::

ç„¶åï¼Œéœ€è¦æ›´æ”¹é»˜è®¤çš„ eslint é…ç½®æ–‡ä»¶ï¼š



## å¼€å‘å·¥å…·å›é¡¾

é€‰æ‹©è‡ªå·±ä¹ æƒ¯çš„ç¼–è¾‘å™¨å¼€å‘ uni-app é¡¹ç›®å³å¯ã€‚

**HbuilderX å’Œ å¾®ä¿¡å¼€å‘è€…å·¥å…· å…³ç³»**
![HbuilderX å’Œ å¾®ä¿¡å¼€å‘è€…å·¥å…· å…³ç³»](../../../public/image-uniapp_picture_7.png)

**VS Code å’Œ å¾®ä¿¡å¼€å‘è€…å·¥å…· å…³ç³»**
![VS Code å’Œ å¾®ä¿¡å¼€å‘è€…å·¥å…· å…³ç³»](../../../public/image-uniapp_picture_8.png)

## ç”¨ VS Code å¼€å‘

ä½¿ç”¨ `VS Code` ç¼–è¾‘å™¨å†™ä»£ç ï¼Œå®ç° tabBar æ¡ˆä¾‹ + è½®æ’­å›¾æ¡ˆä¾‹ã€‚

::: tip æ¸©é¦¨æç¤º

`VS Code` å¯é€šè¿‡å¿«æ·é”® `Ctrl + i` å”¤èµ·ä»£ç æç¤ºã€‚

:::